(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,a){},14:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),c=a(3),s=a.n(c);a(13),a(14);function r(){const[e,t]=Object(l.useState)(["Lisa","Rebecca","Michael","Willie","Shivangi","Chieh"]),[a,c]=Object(l.useState)(""),[s,r]=Object(l.useState)(8),[m,o]=Object(l.useState)(1),[i,u]=Object(l.useState)(1),[b,p]=Object(l.useState)(!1),[d,E]=Object(l.useState)(0),[v,g]=Object(l.useState)(30),[N,h]=Object(l.useState)(30),[y,f]=Object(l.useState)([]),[C,k]=Object(l.useState)(!1),[O,j]=Object(l.useState)("none"),[w,S]=Object(l.useState)([]),[M,x]=Object(l.useState)(0),[A,I]=Object(l.useState)("even"),[P,$]=Object(l.useState)([]),[F,T]=Object(l.useState)(!1),R=Object(l.useRef)(null),D=Object(l.useRef)(null),L=Object(l.useCallback)(()=>{const t=e.map(e=>Array(s).fill(""));f(t)},[e,s]),B=Object(l.useCallback)(()=>{if(s<=1)return;const e=N,t=s-1;if("even"===A){const a=e/t;$(Array(t).fill(a))}else{const a=[];let l=e;for(let e=0;e<t-1;e++){const n=l/(t-e)*(.2+1.8*Math.random());a.push(n),l-=n}a.push(l),$(a)}},[s,N,A]),J=Object(l.useCallback)(()=>{const e=[0];let t=0;for(let a=0;a<P.length;a++)t+=P[a],e.push(t);return e},[P]),U=Object(l.useCallback)(()=>{const t=[];for(let a=1;a<s;a++){const l=[];for(let t=0;t<e.length;t++){!!y[t][a]!==!!y[t][a-1]&&l.push(t)}if(l.length>0){const e=Math.floor(Math.random()*l.length);t.push({col:a,row:l[e]})}}S(t)},[s,e,y]),W=(a,l)=>{if("up"===l&&0===a||"down"===l&&a===e.length-1)return;const n=[...e],c="up"===l?a-1:a+1,s=n[a];n[a]=n[c],n[c]=s,t(n)},q=(e,t)=>"player"===O&&w.some(a=>a.row===e&&a.col===t);return Object(l.useEffect)(()=>{L(),B()},[e,s,A,N,L,B]),Object(l.useEffect)(()=>{if(b&&"timed"===O){const e=Date.now(),t=J();R.current=setInterval(()=>{const a=(Date.now()-e)/1e3;if(a>=N)return x(100),p(!1),T(!0),void clearInterval(R.current);let l=0;for(;l<t.length-1&&a>t[l+1];)l++;const n=t[l],c=P[l];x(100*((l+(a-n)/c)/(s-1)))},33)}else!b&&R.current&&clearInterval(R.current);return()=>{R.current&&clearInterval(R.current)}},[b,O,N,P,s,J]),Object(l.useEffect)(()=>{"player"===O?U():S([])},[y,O,U]),n.a.createElement("div",{className:"app-container"},n.a.createElement("div",{className:"main-layout"},n.a.createElement("div",{className:`settings-panel ${C?"collapsed":""}`},n.a.createElement("button",{onClick:()=>k(!C),className:"collapse-toggle-button","aria-label":C?"Expand settings":"Collapse settings"},C?">":"<"),!C&&n.a.createElement("div",{className:"settings-content"},n.a.createElement("div",{className:"settings-section"},n.a.createElement("h2",{className:"section-title"},"Players"),n.a.createElement("div",{className:"control-group"},n.a.createElement("label",null,"Add Players"),n.a.createElement("div",{className:"input-with-button"},n.a.createElement("input",{type:"text",value:a,onChange:e=>c(e.target.value),placeholder:"Names, separated by commas",className:"text-input"}),n.a.createElement("button",{onClick:()=>{if(!a.trim())return;const l=a.split(",").map(e=>e.trim()).filter(e=>e);l.length>0&&(t([...e,...l]),c(""))},className:"add-button"},"Add"))),n.a.createElement("div",{className:"control-group"},n.a.createElement("label",null,"Player Names File"),n.a.createElement("div",{className:"button-group"},n.a.createElement("input",{type:"file",accept:".txt,.csv",onChange:e=>{const a=e.target.files[0];if(!a)return;const l=new FileReader;l.onload=(e=>{const a=e.target.result.split(/[\n,]/).map(e=>e.trim()).filter(e=>e.length>0);a.length>0&&t(a)}),l.readAsText(a)},ref:D,className:"hidden"}),n.a.createElement("button",{onClick:()=>D.current.click(),className:"file-button"},"Open File"),n.a.createElement("button",{onClick:()=>t([]),className:"clear-button"},"Clear All"))),n.a.createElement("div",{className:"control-group"},n.a.createElement("label",null,"Current Players"),n.a.createElement("div",{className:"player-list-container"},0===e.length?n.a.createElement("div",{className:"no-players"},"No players added"):n.a.createElement("ul",{className:"player-list"},e.map((a,l)=>n.a.createElement("li",{key:l,className:"player-item"},n.a.createElement("span",{className:"player-name"},a),n.a.createElement("div",{className:"player-controls"},n.a.createElement("button",{onClick:()=>W(l,"up"),disabled:0===l,className:`move-button ${0===l?"disabled":""}`,"aria-label":"Move player up"},"\u2191"),n.a.createElement("button",{onClick:()=>W(l,"down"),disabled:l===e.length-1,className:`move-button ${l===e.length-1?"disabled":""}`,"aria-label":"Move player down"},"\u2193"),n.a.createElement("button",{onClick:()=>(a=>{const l=[...e];l.splice(a,1),t(l)})(l),className:"remove-button","aria-label":"Remove player"},"\xd7")))))))),n.a.createElement("div",{className:"settings-section"},n.a.createElement("h2",{className:"section-title"},"Table"),n.a.createElement("div",{className:"table-controls-row"},n.a.createElement("div",{className:"control-group"},n.a.createElement("label",null,"Columns"),n.a.createElement("input",{type:"number",min:"1",max:"20",value:s,onChange:e=>r(parseInt(e.target.value)||1),className:"number-input"})),n.a.createElement("div",{className:"control-group"},n.a.createElement("label",null,"Min Players"),n.a.createElement("input",{type:"number",min:"0",max:e.length,value:m,onChange:e=>o(parseInt(e.target.value)||0),className:"number-input"})),n.a.createElement("div",{className:"control-group"},n.a.createElement("label",null,"Max Additional"),n.a.createElement("input",{type:"number",min:"0",max:e.length,value:i,onChange:e=>u(parseInt(e.target.value)||0),className:"number-input"}))),n.a.createElement("div",{className:"table-buttons-row"},n.a.createElement("button",{onClick:()=>{const t=[...y],a=Array(e.length).fill(0);for(let l=1;l<s;l++){const n=Math.floor(Math.random()*(i+1)),c=Math.min(m+n,e.length),s=Array.from({length:e.length},(e,t)=>t).sort((e,t)=>a[e]-a[t]);for(let a=0;a<e.length;a++)t[a][l]="";for(let e=0;e<c;e++){const n=s[e];t[n][l]="on",a[n]++}}f(t)},className:"fill-button"},"Fill Table"),n.a.createElement("button",{onClick:()=>{L()},className:"clear-button"},"Clear Table"))),n.a.createElement("div",{className:"settings-section"},n.a.createElement("h2",{className:"section-title"},"Timing"),n.a.createElement("div",{className:"cue-mode-selector"},n.a.createElement("button",{onClick:()=>j("none"),className:`cue-toggle-button ${"none"===O?"active":""}`},"No cues"),n.a.createElement("button",{onClick:()=>j("player"),className:`cue-toggle-button ${"player"===O?"active":""}`},"Player cues"),n.a.createElement("button",{onClick:()=>j("timed"),className:`cue-toggle-button ${"timed"===O?"active":""}`},"Timed cues")),"timed"===O&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"control-group mt-10"},n.a.createElement("div",{className:"settings-row"},n.a.createElement("div",null,n.a.createElement("label",null,"Piece duration"),n.a.createElement("div",{className:"time-input-container"},n.a.createElement("input",{type:"number",min:"0",max:"90",value:d,onChange:e=>{const t=Math.min(90,Math.max(0,parseInt(e.target.value)||0));E(t),h(60*t+v)},className:"time-input"}),n.a.createElement("span",{className:"time-label"},"min"),n.a.createElement("input",{type:"number",min:"0",max:"59",value:v,onChange:e=>{const t=Math.min(59,Math.max(0,parseInt(e.target.value)||0));g(t),h(60*d+t)},className:"time-input"}),n.a.createElement("span",{className:"time-label"},"sec")),n.a.createElement("input",{type:"range",min:"30",max:"5400",value:N,onChange:e=>{const t=parseInt(e.target.value);h(t),E(Math.floor(t/60)),g(t%60)},className:"time-slider"})),n.a.createElement("div",{className:"pacing-controls"},n.a.createElement("label",null,"Pacing"),n.a.createElement("div",{className:"button-group"},n.a.createElement("button",{onClick:()=>I("even"),className:`pacing-button ${"even"===A?"active":""}`},"Even"),n.a.createElement("button",{onClick:()=>I("uneven"),className:`pacing-button ${"uneven"===A?"active":""}`},"Uneven"))))))))),n.a.createElement("div",{className:`table-container ${C?"full-width":""}`},n.a.createElement("div",{className:"table-wrapper"},n.a.createElement("table",{className:"main-table"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{className:"player-header"},"Players"),Array.from({length:s-1},(e,t)=>n.a.createElement("th",{key:t,className:"column-header"},t+1)))),n.a.createElement("tbody",null,e.map((e,t)=>n.a.createElement("tr",{key:t},n.a.createElement("td",{className:"player-cell"},e),Array.from({length:s-1},(e,a)=>{var l;const c=a+1;return n.a.createElement("td",{key:a,className:`\n                             grid-cell \n                             ${q(t,c)?"player-cue":""}\n                          `,onClick:()=>((e,t)=>{const a=[...y];a[e][t]=a[e][t]?"":"on",f(a)})(t,c)},(null===(l=y[t])||void 0===l?void 0:l[c])&&n.a.createElement("div",{className:"player-on"}))}))))),"timed"===O&&n.a.createElement("div",{className:"progress-wrapper"},n.a.createElement("div",{className:"progress-controls"},n.a.createElement("button",{onClick:()=>{x(0),p(!0),T(!1),B()},className:"icon-button play-icon-button","aria-label":"Start"},n.a.createElement("div",{className:"icon-play"})),n.a.createElement("div",{className:"button-group"},n.a.createElement("button",{onClick:()=>{p(!1)},className:"icon-button pause-icon-button","aria-label":"Pause"},n.a.createElement("div",{className:"icon-pause"},n.a.createElement("div",{className:"icon-pause-bar"}),n.a.createElement("div",{className:"icon-pause-bar"}))),n.a.createElement("button",{onClick:()=>{x(0),p(!1),T(!1)},className:"icon-button reset-icon-button","aria-label":"Reset"},"\u21ba"))),n.a.createElement("div",{className:"progress-container"},n.a.createElement("div",{className:"progress-bar",style:{width:`${M}%`,transition:"width 0.1s linear"}})))))))}var m=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(r,null))};var o=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,16)).then(t=>{let{getCLS:a,getFID:l,getFCP:n,getLCP:c,getTTFB:s}=t;a(e),l(e),n(e),c(e),s(e)})};s.a.createRoot(document.getElementById("root")).render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(m,null))),o()},4:function(e,t,a){e.exports=a(15)}},[[4,1,2]]]);
//# sourceMappingURL=main.1d411be3.chunk.js.map